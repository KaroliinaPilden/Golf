<!doctype html>2
<html>
	<head>
		<meta charset="UTF-8">
		<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
		<script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
		<script src="https://unpkg.com/three.texttexture@18.8.6/THREE.TextTexture.js"></script>
		<script src="https://antoniohof.github.io/aframe-text-texture-component/dist/aframe-text-texture-component.min.js"></script>
		<script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
		<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
		<script src="https://unpkg.com/super-hands@3.0.0/dist/super-hands.min.js"></script>
		<script>
			let temp = 0.5/60;
			function startTime() {
				var today = new Date();
				var h = today.getHours();
				if(h>12){
					h = h-12;
				}
				var m = today.getMinutes();
				var s = today.getSeconds();
				document.getElementById('seconds').object3D.rotation.z = - THREE.Math.degToRad(6)*s;
				document.getElementById('minutes').object3D.rotation.z = - THREE.Math.degToRad(6)*m;
				document.getElementById('hours').object3D.rotation.z = - THREE.Math.degToRad(30)*h;
				var t = setTimeout(startTime, 1000);
			}

			function stopwatch() {
			var stopwatch = document.getElementById('stopwatch'),
				seconds = 0, minutes = 0, hours = 0,
				t;

			seconds++;
				if (seconds >= 60) {
				seconds = 0;
				minutes++;
					if (minutes >= 60) {
						minutes = 0;
						hours++;
					}
				}
			stopwatch.textContent = (hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":" + (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":" + (seconds > 9 ? seconds : "0" + seconds);
			t = setTimeout(stopwatch, 1000);
			}
		</script>
	</head>
	<body>
		<a-scene physics="friction: 0.1; debug: true">
			<a-text id="stopwatch" value="testõüöä" position="0 2 -2" font="Ubuntu-L-msdf.json"></a-text>
			<script>stopwatch()</script>
			<a-entity id="sound" sound="src: outside.wav; autoplay:true; loop:true; volume: 20;"> </a-entity>
			<a-entity id="cameraRig">
				<a-camera id="head"></a-camera>
				<a-entity sphere-collider="objects: a-entity" vive-controls="hand: right" super-hands teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head;"></a-entity>
			</a-entity>
			<a-entity light="type: ambient; color: #FFF; intensity: 0.9" position="0 10 0"></a-entity>
			<a-plane id="ground" static-body rotation="-90 0 0" height="100" width="100" color="#567d46"></a-plane>
			<a-entity id="rada" position="0 0 -4">
				<a-box id="rada" position="0 0 0" static-body height="0.4" width="3" depth="10" color="#1e6b00" ></a-box>
				<a-box class="aaris" position="1.45 0.25 0" static-body height="0.1" width="0.1" depth="10"></a-box>
				<a-box class="aaris" position="-1.45 0.25 0" static-body height="0.1" width="0.1" depth="10"></a-box>
				<a-box class="aaris" rotation="0 90 0" static-body position="0 0.25 4.95" height="0.1" width="0.1" depth="3"></a-box>
				<a-box class="aaris" rotation="0 90 0" static-body position="0 0.25 -4.95" height="0.1" width="0.1" depth="3"></a-box>
				<a-cylinder id="auk" position="0 0.2 -4"static-body  height="0.01" radius="0.1" color="#000"></a-cylinder>
			</a-entity>
			
			<a-entity id="kepp" grabbable position="0.5 2 0">
				<a-cylinder constraint="target: #pea; collideConnected: false" id="varras" dynamic-body position="0 0 0" radius="0.03"></a-cylinder>
				<a-box constraint="target: #varras; collideConnected: false" id="pea" dynamic-body position="-0.05 -0.5 0" height="0.1" width="0.2" depth="0.1" color="darkorange"></a-box>
			</a-entity>
			
			<a-entity id="pall" dynamic-body="linear-damping: 0.5" position="-0.5 1 0">
				<a-sphere radius="0.05"></a-sphere>
			</a-entity>
			<!-- Reeglite tahvel -->
			<a-box id="tahvel" src="boxtexture.jpg" position="-7.30 4 -2.90" rotation="0 125 0" depth="5" height="3" width="0.4"></a-box>
			<a-entity text-texture="text: REEGLID
* Löökide arv ei loe.
* Kui pall lüüakse raja äärde ja lööki
  ei ole võimalik sooritada siis palli
  liigutatakse 10cm võrra äärest eemale.
* Kui pall lüüakse rajalt välja, peab
  rada algusest alustama.; scale: 0.3" position="-7.10 4 -2.60" rotation="0 35 0"> </a-entity> 
			
			<!-- Kell -->
			<a-entity id="kella tagus" position="0 4 -10.02"geometry="primitive: circle; radius: 2" material="side: double; src: marble.jpg"></a-entity>
			<a-entity position="0 4 -10" id="kell">
				<a-circle src="koolikell.png" radius="2" segment="200">
					<a-entity id="seconds" line="start: 0, 0, 0.0005; end: 0 0.625 0.0005; color: black" scale="2 2 2"></a-entity>
					<a-entity id="minutes" line="start: 0, 0, 0.0005; end: 0 0.5 0.0005; color: black" scale="2 2 2"></a-entity>
					<a-entity id="hours" line="start: 0, 0, 0.0005; end: 0 0.35 0.0005; color: black" scale="2 2 2"></a-entity>
					<script>startTime();</script>
				</a-circle>
		<!-- Tuulik -->
			</a-entity>
			<a-entity id="Tuulik" position="0 0 -4"> 
				<a-cone static-body height="3" radius-top="0.2" radius-bottom="1.5" color="#f4c242"></a-cone>
				<a-cylinder static-body position="0 1.2 0.5" height="0.5" radius="0.04" rotation="90 0 0" color="#5b4200"></a-cylinder>
				<a-cylinder static-body position="0 1.2 0.8" rotation="90 0 0" radius="0.1" height="0.1" color="red" ></a-cylinder>
				<a-cone static-body position="0 1.6 0" radius-top="0" radius-bottom="0.5" height="0.5" color="#5b4200"></a-cone>
				<a-entity id="tuuliku tiivad">
					<a-box static-body position="0 1.2 0.8" height="0.2" width="1.5" depth="0.01" rotation="0 0 -45"color="#5b4200" animation="property: rotation; to: 0 0 360; loop: true"></a-box>
					<a-box static-body position="0 1.2 0.8" height="0.2" width="1.5" depth="0.01" rotation="0 0 45" color="#5b4200" animation="property: rotation; to: 0 0 360; loop: true"></a-box>
				</a-entity>
			</a-entity> 
			<!-- Rada number 2 -->
			<a-entity id="2. Rada" position="10 0 0">
				<a-box id="rada" position="0 0 0" static-body height="0.4" width="3" depth="10" color="#1e6b00" ></a-box>
				<a-box id="rada" position="3.5 0 6.5" rotation="0 90 0"static-body height="0.4" width="3" depth="10" color="#1e6b00" ></a-box>
				<a-box class="aaris" position="1.45 0.25 0" static-body height="0.1" width="0.1" depth="10"></a-box>
				<a-box class="aaris" position="-1.45 0.25 0" static-body height="0.1" width="0.1" depth="10"></a-box>
				<a-box class="aaris" position="-1.45 0.25 6.5" rotation="0 0 0" static-body position="0 0.25 4.95" height="0.1" width="0.1" depth="3"></a-box>
				<a-box class="aaris" rotation="0 90 0" static-body position="0 0.25 -4.95" height="0.1" width="0.1" depth="3"></a-box>
				<a-box class="aaris" position="8.45 0.25 6.5" rotation="0 0 0" static-body position="0 0.25 4.95" height="0.1" width="0.1" depth="3"></a-box>
				<a-box class="aaris" position="3.5 0.25 8" rotation="0 90 0" static-body height="0.1" width="0.1" depth="10"></a-box>
				<a-box class="aaris" position="4.95 0.25 5" rotation="0 90 0" static-body height="0.1" width="0.1" depth="7.1"></a-box>
				<a-cylinder id="auk" position="7 0.2 6.5"static-body  height="0.01" radius="0.1" color="#000"></a-cylinder>
			</a-entity>
				
		</a-scene>
	</body>
</html>

